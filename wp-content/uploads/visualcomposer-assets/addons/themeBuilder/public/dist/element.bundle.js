"use strict";(self.vcvWebpackJsonp4x=self.vcvWebpackJsonp4x||[]).push([["element"],{"./addon/themeBuilder/index.js":function(e,t,n){var o=n("./node_modules/vc-cake/index.js");if("vcv_layouts"===(window.VCV_EDITOR_TYPE?window.VCV_EDITOR_TYPE():"default")){(0,o.env)("VCV_JS_THEME_EDITOR",!1),(0,o.env)("VCV_JS_THEME_LAYOUTS",!0);var a=[];void 0!==window.vcvGlobalTemplatesList&&(a=window.vcvGlobalTemplatesList);var i=(0,o.getStorage)("settings");i.state("layoutType").onChange((function(e){var t=(0,o.getStorage)("fieldOptions"),n=(window.VCV_HUB_GET_CATEGORIES&&window.VCV_HUB_GET_CATEGORIES()).Grids.elements;"archiveTemplate"===e?(n.forEach((function(e){t.trigger("setElementInitialValue",e,"sourceItem",{tag:"postsGridDataSourceArchive"})})),void 0!==window.vcvGlobalTemplatesList&&(window.vcvGlobalTemplatesList=a.filter((function(e){return!(e.group&&-1!==e.group.label.search(/singular/i))})))):(n.forEach((function(e){t.trigger("setElementInitialValue",e,"sourceItem",{tag:"postsGridDataSourcePost"})})),void 0!==window.vcvGlobalTemplatesList&&(window.vcvGlobalTemplatesList=a.filter((function(e){return!(e.group&&-1!==e.group.label.search(/archive/i))}))))}));var l=(0,o.getStorage)("wordpressData"),r=(0,o.getService)("document"),s=(0,o.getService)("cook"),d=window.VCV_I18N?window.VCV_I18N():{},c={elementLimit1:d.onlyOneElementCanBeAddedToPage||"Only one %element element can be added to the page.",elementLimit2:d.onlyTwoElementsCanBeAddedToPage||"Only two %element elements can be added to the page.",elementLimit3:d.onlyThreeElementsCanBeAddedToPage||"Only three %element elements can be added to the page.",elementLimit4:d.onlyFourElementsCanBeAddedToPage||"Only four %element elements can be added to the page.",elementLimit5:d.onlyFiveElementsCanBeAddedToPage||"Only five %element elements can be added to the page.",elementLimitDefault:d.elementLimitDefaultText||"Only %count %element elements can be added to the page."};l.on("wordpress:beforeSaveLock",(function(e,t){var n;if("template"!==t){var a=(window.VCV_I18N?window.VCV_I18N():{}).contentElementMissingNotification||"The content area is missing for your layout. Make sure to add the Content Area element to specify the place in your layout where the page or post content will be displayed.",l=r.getByTag("layoutContentArea"),d=i.state("layoutType").get();e.status=!0;var m=r.all(),u={};Object.keys(m).forEach((function(e){if(!u[e]){var t=function(e){var t={};if(Object.prototype.hasOwnProperty.call(e,"metaElementLimit")){var n=parseInt(e.metaElementLimit),o=r.getByTag(e.tag)||{};n>0&&Object.keys(o).length>n&&(t.hasExceeded=!0,t.limit=n)}return t}(m[e]);if(t.hasExceeded){var n=s.get(m[e]);u[m[e].tag]={limit:t.limit,name:n.get("name")}}}})),Object.keys(u).length&&(e.status=!1,Object.keys(u).forEach((function(e){!function(e,t,n){var a=c.elementLimitDefault;a=(a=n<6?c["elementLimit".concat(n)]:a.replace("%count",n)).replace("%element",t),(0,o.env)("globalStore").addNotification({type:e,text:a,time:5e3,showCloseButton:!0})}("error",u[e].name,u[e].limit)}))),"vcv_templates"!==(null===(n=i.state("postData").get())||void 0===n?void 0:n.post_type_slug)&&"archiveTemplate"!==d&&Object.keys(l).length<1&&(e.status=!1,(0,o.env)("globalStore").addNotification({type:"error",text:a,time:5e3,showCloseButton:!0}))}})),l.on("wordpress:beforeSaveLock",(function(e,t){var n;if("vcv_templates"!==(null===(n=i.state("postData").get())||void 0===n?void 0:n.post_type_slug)&&("template"!==t&&"archiveTemplate"===i.state("layoutType").get())){var a=(window.VCV_I18N?window.VCV_I18N():{}).archiveGridElementMissingNotification||"It seems you donâ€™t have a post grid element on your page. Your archive page may not work properly. If you are using a custom grid element, feel free to ignore this message.",l=(window.VCV_HUB_GET_CATEGORIES&&window.VCV_HUB_GET_CATEGORIES()).Grids.elements,r=(0,o.getService)("document").all(),s=Object.keys(r).map((function(e){return r[e].tag})),d=s.includes("layoutPostList"),c=l.some((function(e){return s.includes(e)}))||d,m=Object.keys(r).map((function(e){var t;return null===(t=r[e].sourceItem)||void 0===t?void 0:t.tag})).filter((function(e){return e})).includes("postsGridDataSourceArchive");c&&m||(0,o.env)("globalStore").addNotification({type:"warning",text:a,time:1e4,showCloseButton:!0})}}))}}},[["./addon/themeBuilder/index.js"]]]);